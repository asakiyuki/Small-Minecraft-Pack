{
    "toggle_texture": {
        "type": "panel",
        "size": [
            "100%",
            "100%"
        ],
        "$toggle_unactive_texture|default": "textures/ui/button_borderless_light",
        "$toggle_active_texture|default": "textures/ui/button_borderless_lightpressednohover",
        "$hide_outline|default": false,
        "$outline_color|default": [
            0,
            0,
            0
        ],
        "controls": [
            {
                "off": {
                    "type": "image",
                    "size": [
                        "100% - 2px",
                        "100% - 2px"
                    ],
                    "texture": "$toggle_unactive_texture"
                }
            },
            {
                "toggleOutline": {
                    "type": "image",
                    "size": [
                        "100%",
                        "100%"
                    ],
                    "texture": "textures/ui/focus_border_selected",
                    "color": "$outline_color",
                    "ignored": "$hide_outline"
                }
            }
        ]
    },
    "send_chat_message": {
        "type": "toggle",
        "unchecked_control": "off",
        "unchecked_hover_control": "offHover",
        "size": [
            60,
            27
        ],
        "sound_name": "random.click",
        "sound_volume": 1.0,
        "sound_pitch": 1.0,
        "button_mappings": [
            {
                "from_button_id": "button.menu_select",
                "to_button_id": "button.send",
                "mapping_type": "pressed"
            },
            {
                "from_button_id": "button.menu_ok",
                "to_button_id": "button.send",
                "mapping_type": "global"
            }
        ],
        "bindings": [
            {
                "binding_type": "view",
                "source_property_name": "(not not #toggle_state)",
                "target_property_name": "#check_toggle_is_on"
            },
            {
                "binding_type": "global",
                "binding_name": "#message_text_box_content",
                "binding_name_override": "#the_chat_content",
                "binding_condition": "always"
            },
            {
                "binding_type": "view",
                "source_property_name": "('§r' + #the_chat_content)",
                "target_property_name": "#chat_content"
            },
            {
                "binding_type": "view",
                "source_property_name": "(('%.3s' * #chat_content))",
                "target_property_name": "#is_command"
            },
            {
                "binding_type": "view",
                "source_control_name": "asakizuki::caculatorData",
                "source_property_name": "#result_chat_messenger",
                "target_property_name": "#result_chat_messenger"
            },
            {
                "binding_type": "view",
                "source_property_name": "((#last_chat_message + ('r' + #check_toggle_is_on)) + #chat_content) - ('rfalse' + #chat_content) - (#last_chat_message + 'rtrue'))",
                "target_property_name": "#last_chat_message"
            },
            {
                "binding_type": "view",
                "source_property_name": "((('§rr' + #check_toggle_is_on + #chat_content) - 'rtrue' - ('rfalse' + #chat_content) + #result_chat_messenger))",
                "target_property_name": "#chat_messenger_history"
            },
            {
                "binding_type": "view",
                "source_property_name": "(not (#toggle_state = #toggle_state))",
                "target_property_name": "#toggle_state"
            }
        ],
        "controls": [
            {
                "off@chat.toggle_texture": {
                    "$toggle_unactive_texture": "textures/ui/button_borderless_light",
                    "$toggle_active_texture": "textures/ui/button_borderless_lightpressednohover",
                    "$outline_color": [
                        0,
                        0,
                        0
                    ]
                }
            },
            {
                "offHover@chat.toggle_texture": {
                    "$toggle_unactive_texture": "textures/ui/button_borderless_lighthover",
                    "$toggle_active_texture": "textures/ui/button_borderless_lightpressed",
                    "$outline_color": [
                        1,
                        1,
                        1
                    ]
                }
            },
            {
                "idk@chat.send_panel": {
                    "layer": 10
                }
            }
        ]
    },
    "chat_screen": {
        "cache_screen": true
    },
    "chat_screen_content": {
        "modifications": [
            {
                "array_name": "controls",
                "operation": "insert_front",
                "value": [
                    {
                        "asakizuki::renderLastCommand": {
                            "type": "label",
                            "text": "#text",
                            "layer": 10,
                            "bindings": [
                                {
                                    "binding_type": "view",
                                    "source_control_name": "asakizuki::caculatorData",
                                    "source_property_name": "('Last Command: ' + #last_chat_message)",
                                    "target_property_name": "#text"
                                }
                            ]
                        }
                    },
                    {
                        "asakizuki::caculatorData": {
                            "type": "panel",
                            "size": [
                                0,
                                0
                            ],
                            "bindings": [
                                {
                                    "binding_type": "view",
                                    "source_control_name": "asakizuki::12335872_send_chat_message",
                                    "source_property_name": "#last_chat_message",
                                    "target_property_name": "#last_chat_message"
                                },
                                {
                                    "binding_type": "view",
                                    "source_control_name": "asakizuki::12335872_send_chat_message",
                                    "source_property_name": "#chat_messenger_history",
                                    "target_property_name": "#result_chat_messenger"
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    },
    "chat_bottom_panel": {
        "modifications": [
            {
                "array_name": "controls",
                "operation": "replace",
                "where": {
                    "send_button@chat.send_button": {
                        "offset": [
                            -20,
                            0
                        ]
                    }
                },
                "value": {
                    "asakizuki::12335872_send_chat_message@chat.send_chat_message": {
                        "offset": [
                            -20,
                            0
                        ]
                    }
                }
            }
        ]
    }
}